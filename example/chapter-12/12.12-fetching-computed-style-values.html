<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>12.12 Fetching computed style values</title>
    <link rel="stylesheet" href="../../css/style.css"/>
    <style type="text/css">
        div {
            background-color: #ffc;
            display: inline;
            font-size: 1.8em;
            border: 1px solid crimson;
            color: green;
        }
    </style>
</head>
<body>

    <div style="color: crimson" id="testSubject" title="Ninja power!">
        忍者パワー
    </div>

    <div id="results"></div>
    <script src="../../js/assert.js"></script>
    <script type="text/javascript">

        function fetchComputedStyle(element, property) {
            if (window.getComputedStyle) {
                var computedStyles = window.getComputedStyle(element);
                if (computedStyles) {
                    property = property.replace(/([A-Z])/g, '-$1').toLowerCase();
                    return computedStyles.getPropertyValue(property);
                }
            } else if (element.currentStyle) {
                property = property.replace(/-([a-z])/ig, function(all, letter) {
                    return letter.toUpperCase();
                });
            }
        }

        window.onload = function() {
            var div = document.getElementsByTagName('div')[0];

            assert(true, 'background-color: ' + fetchComputedStyle(div, 'background-color'));
            assert(true, 'display: ' + fetchComputedStyle(div, 'display'));
            assert(true, 'font-size: ' + fetchComputedStyle(div, 'fontSize'));
            assert(true, 'color: ' + fetchComputedStyle(div, 'color'));
            assert(true, 'border-top-color: ' + fetchComputedStyle(div, 'borderTopColor'));
            assert(true, 'border-top-width: ' + fetchComputedStyle(div, 'borderTopWidth'));
        }

	</script>
</body>
</html>