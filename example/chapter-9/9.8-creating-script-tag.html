<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>9.8 Creating a script tag</title>
    <link rel="stylesheet" href="../../css/style.css"/>
</head>
<body>
    <div id="results"></div>
    <script src="../../js/assert.js"></script>
    <script type="text/javascript">

        function globalEval(data) {
            data = data.replace(/^\s*|\s*$/g, '');

            if (data) {
                var head = document.getElementsByTagName('head')[0] ||
                                document.documentElement,
                        script = document.createElement('script');

                script.type = 'text/javascript';
                script.text = data;

                head.appendChild(script);
                head.removeChild(script);
            }
        }

        window.onload = function() {
            var scripts = document.getElementsByTagName('script');
            for (var i = 0; i < scripts.length; i++) {
                if (scripts[i].type == 'x/onload') {
                    globalEval(scripts[i].innerHTML);
                }
            }
        };


	</script>

    <script type="x/onload">
        assert(true, 'Executed on page load');
    </script>
</body>
</html>